<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>wish</title>
        <link rel="stylesheet" href="/index.css" />
        <SCRIPT LANGUAGE="JavaScript">
            function theDate() {
                var now = new Date(); 
                var year = now.getFullYear();
                var month = now.getMonth() + 1;
                var date = now.getDate(), day; 
            
                switch(now.getDay())
                {
                    case 0 : day = "일요일";             break;
                    case 1 : day = "월요일";             break;
                    case 2 : day = "화요일";             break;
                    case 3 : day = "수요일";             break;
                    case 4 : day = "목요일";             break;
                    case 5 : day = "금요일";             break;
                    case 6 : day = "토요일";             break;  
            
                }
                document.write("<BR><B>" + "오늘은 " + year + "년 " + month + "월 " + date + "일 " + day + "입니다" + "</B>");
            }
    
            var today = new Date(); // 오늘 날짜
            var date = new Date();
        
            function beforem() //이전 달을 today에 값을 저장
            { 
                today = new Date(today.getFullYear(), today.getMonth() - 1, today.getDate());
                build(); 
            }
            
            function nextm()  //다음 달을 today에 저장
            {
                today = new Date(today.getFullYear(), today.getMonth() + 1, today.getDate());
                build();
            }
            
            function build()
            {
                var nMonth = new Date(today.getFullYear(), today.getMonth(), 1); 
                var lastDate = new Date(today.getFullYear(), today.getMonth() + 1, 0); 
                var tbcal = document.getElementById("calendar"); // 테이블 달력을 만들 테이블
                var yearmonth = document.getElementById("yearmonth"); //  년도와 월 출력할곳
                yearmonth.innerHTML = today.getFullYear() + "년 "+ (today.getMonth() + 1) + "월"; //년도와 월 출력
                
                if(today.getMonth()+1==12) 
                {
                    before.innerHTML=(today.getMonth())+"월";
                    next.innerHTML="1월";
                }
                else if(today.getMonth()+1==1) //1월
                {
                before.innerHTML="12월";
                next.innerHTML=(today.getMonth()+2)+"월";
                }
                else //12월
                {
                    before.innerHTML=(today.getMonth())+"월";
                    next.innerHTML=(today.getMonth()+2)+"월";
                }
                
                while (tbcal.rows.length > 2) 
                {
                    tbcal.deleteRow(tbcal.rows.length - 1);
                }
                var row = null;
                row = tbcal.insertRow();
                var cnt = 0;
        
                for (i = 0; i < nMonth.getDay(); i++) 
                {
                    cell = row.insertCell();
                    cnt = cnt + 1;
                }
        
                // 달력 출력
                for (i = 1; i <= lastDate.getDate(); i++) 
                { 
                    cell = row.insertCell();
                    cell.innerHTML = i;
                    cnt = cnt + 1;
                    if (cnt % 7 == 1) { 
                        cell.innerHTML = "<font color=#FF9090>" + i //일요일
                    }
                    if (cnt % 7 == 0) { 
                        cell.innerHTML = "<font color=#7ED5E4>" + i //토요일
                        row = calendar.insertRow();
                    }
                    if(today.getFullYear()==date.getFullYear()&&today.getMonth()==date.getMonth()&&i==date.getDate()) 
                    {
                        cell.bgColor = "#FBFAE1"; //오늘날짜배경색
                    }
                }
            }
    
            function MouseOver(cell, newcolor) {
                    cell.bgColor = newcolor;
            }
            
            function MouseOut(cell, newcolor) {
                    cell.bgColor = newcolor;
            }
    
            function imageChange(path){
                document.image_2.src=path;
            }    

        </SCRIPT> 
    </head>

    <body onload="build()">
        <!--로고-->
        <div class="logo">
           <img src="/image/logo.png">
        </div>

        <!--로그아웃-->
        <div class="logout">LOG OUT</div>

        <!--가장 바깥 바탕-->
        <div class="position1 box1">
        </div>

        <!--사용자 소개-->
        <div class="position2 box2">
            <!--프로필사진배경 -->
            <div class="profile_background"></div>
            <!--프로필사진-->
            <div class="profile"><img src="/image/프로필예시.png"  height="200px" width="160px"></div>
            <!--상태메시지-->
            <div class="introduction">산ㅌŀ할ㅇr버ズl 저 안 울었는데 선물 주んıㄴr용</div>
            <div class="music">♪ 미리메리크리스마스 - 아이유(ft.엠블랙 천둥)</div>
            <div class="position5"><hr></div>
            <div class="d_day">
                Christmas🎅
                <div id="newcountdown">
                <SCRIPT LANGUAGE="JavaScript">
                    CountDownTimer('12/25/2022 00:00 AM', 'newcountdown'); // 2018년 1월 1일까지, 시간을 표시하려면 01:00 AM과 같은 형식을 사용합니다.

                    function CountDownTimer(dt, id)
                    {
                    var end = new Date(dt);

                    var _second = 1000;
                    var _minute = _second * 60;
                    var _hour = _minute * 60;
                    var _day = _hour * 24;
                    var timer;

                    function showRemaining() {
                    var now = new Date();
                    var distance = end - now;
                    if (distance < 0) {

                    clearInterval(timer);
                    document.getElementById(id).innerHTML = 'EXPIRED!';

                    return;
                    }
                    var days = Math.floor(distance / _day);
                    var hours = Math.floor((distance % _day) / _hour);
                    var minutes = Math.floor((distance % _hour) / _minute);
                    var seconds = Math.floor((distance % _minute) / _second);

                    document.getElementById(id).innerHTML = days + '일 ';
                    document.getElementById(id).innerHTML += hours + '시간 ';
                    document.getElementById(id).innerHTML += minutes + '분 ';
                    document.getElementById(id).innerHTML += seconds + '초';
                    }

                    timer = setInterval(showRemaining, 1000);
                    }
                    // Source: stackoverflow
                </script>
                </div>
            </div>
            <div class="cal">
                <table id="calendar">
                    <tr>
                        <td class="font8"><label onclick="beforem()" id="before" ></label></td>
                        <td colspan="5" id="yearmonth"></td>
                        <td class="font8"><label onclick="nextm()" id="next"></label></td>
                    </tr>
                    <tr>
                        <td class="fontsun"> 일 </td>
                        <td class="fontday"> 월 </td>
                        <td class="fontday"> 화 </td>
                        <td class="fontday"> 수 </td>
                        <td class="fontday"> 목 </td>
                        <td class="fontday"> 금 </td>
                        <td class="fontsat"> 토 </td>
                    </tr>
                </table>
            </div>
        </div>

        <!--메인페이지-->
        <div class="position2 box3">
            <form action="/create" method="post">

            <div class="colorchange">장식을 고르고 소원을 등록해보세요 !</div>
            <div class="box4"></div>

            <div class="deco1"><button type="button" class="btn_image div2" id="treedeco_1" onclick="imageurl(1)"><img  src="/image/treedeco_1.png" width="70px"></button></div>
            <div class="deco2"><button type="button" class="btn_image div2" id="treedeco_2" onclick="imageurl(2)"><img  src="/image/treedeco_2.png" width="70px"></button></div>
            <div class="deco3"><button type="button" class="btn_image div2" id="treedeco_3" onclick="imageurl(3)"><img  src="/image/treedeco_3.png" width="70px"></button></div>
            <div class="deco4"><button type="button" class="btn_image div2" id="treedeco_4" onclick="imageurl(4)"><img  src="/image/treedeco_4.png" width="70px"></button></div>
            <div class="deco5"><button type="button" class="btn_image div2" id="treedeco_5" onclick="imageurl(5)"><img  src="/image/treedeco_5.png" width="70px"></button></div>
            <div class="deco6"><button type="button" class="btn_image div2" id="treedeco_6" onclick="imageurl(6)"><img  src="/image/treedeco_6.png" width=" 70px"></button></div>

            <div class="box8"><input id="textarea6" rows="intro" cols="60" rows="5" name="name" placeholder="익명 이름 쓰기"></textarea></div>
            <div class="box9"><input id="textarea2" rows="intro" cols="60" rows="5" name="wish_contents" placeholder="소원 쓰기"></textarea></div>

            <div class="b5"><button type="submit" class="button2" id="hungry" value="" name="image">등록하기</div>
            </form>
        </div>


        <!--스프링-->
        <div class="position4"><img src="/image/spring.png"></div>
        <div class="position4_1"><img src="/image/spring.png"></div>
        <div class="position4_2"><img src="/image/spring.png"></div>
        <div class="position4_3"><img src="/image/spring.png"></div>

        <!--메뉴-->
        <a href="/index"><div class="position2_1 index1">홈</div></a>
        <a href="/sendcard"><div class="position2_1 index2">카드보내기</div></a>
        <a href="/wish"><div class="position2 index3">소원등록</div></a>
        <a href="/game"><div class="position2_1 index4">미니게임</div></a>
        <a href="/mypage"><div class="position2_1 index5">마이페이지</div></a>
        <a href="/setting"><div class="position2_1 index6">설정</div></a>

        <!--바닥 장식-->
        <div class="position3">
            <img src="/image/bottom.png" width="134%" height="140">
        </div> 

        <script>
            var div2 = document.getElementsByClassName("div2");

            function handleClick(event) {
                console.log(event.target);
                // console.log(this);
                // 콘솔창을 보면 둘다 동일한 값이 나온다

                console.log(event.target.classList);

                if (event.target.classList[1] === "clicked") {
                    event.target.classList.remove("clicked");
                } else {
                for (var i = 0; i < div2.length; i++) {
                    div2[i].classList.remove("clicked");
                }

                event.target.classList.add("clicked");
                }
            }

            function init() {
                for (var i = 0; i < div2.length; i++) {
                    div2[i].addEventListener("click", handleClick);
                }
            }

            init();

            function imageurl(a) {
                if (a == 1)
                    var imageurl = "/image/treedeco_1.png";
                else if (a == 2)
                    var imageurl = "/image/treedeco_2.png";
                else if (a == 3)
                var imageurl = "/image/treedeco_3.png";
                else if (a == 4)
                var imageurl = "/image/treedeco_4.png";
                else if (a == 5)
                var imageurl = "/image/treedeco_5.png";
                else if (a == 6)
                var imageurl = "/image/treedeco_6.png";


                document.getElementById("hungry").value = imageurl;    
            }
        </script>
    </body>
</html>